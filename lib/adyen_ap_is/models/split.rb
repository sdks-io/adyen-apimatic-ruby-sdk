# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # Split Model.
  class Split < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # The unique identifier of the account to which the split amount is booked.
    # Required if `type` is **MarketPlace** or **BalanceAccount**.
    # * [Classic Platforms
    # integration](https://docs.adyen.com/classic-platforms): The
    # [`accountCode`](https://docs.adyen.com/api-explorer/Account/latest/post/up
    # dateAccount#request-accountCode) of the account to which the split amount
    # is booked.
    # * [Balance Platform](https://docs.adyen.com/adyen-for-platforms-model):
    # The
    # [`balanceAccountId`](https://docs.adyen.com/api-explorer/balanceplatform/l
    # atest/get/balanceAccounts/_id_#path-id) of the account to which the split
    # amount is booked.
    # @return [String]
    attr_accessor :account

    # The amount of the split item.
    # * Required for all split types in the [Classic Platforms
    # integration](https://docs.adyen.com/classic-platforms).
    # * Required if `type` is **BalanceAccount**, **Commission**, **Surcharge**,
    # **Default**, or **VAT** in your [Balance
    # Platform](https://docs.adyen.com/adyen-for-platforms-model) integration.
    # @return [SplitAmount2]
    attr_accessor :amount

    # Your description for the split item.
    # @return [String]
    attr_accessor :description

    # Your unique reference for the part of the payment booked to the specified
    # `account`.
    # This is required if `type` is **MarketPlace** ([Classic Platforms
    # integration](https://docs.adyen.com/classic-platforms)) or
    # **BalanceAccount** ([Balance
    # Platform](https://docs.adyen.com/adyen-for-platforms-model)).
    # For the other types, we also recommend providing a **unique** reference so
    # you can reconcile the split and the associated payment in the transaction
    # overview and in the reports.
    # @return [String]
    attr_accessor :reference

    # The part of the payment you want to book to the specified `account`.
    # Possible values for the [Balance
    # Platform](https://docs.adyen.com/adyen-for-platforms-model):
    # * **BalanceAccount**: Books part of the payment (specified in `amount`) to
    # the specified `account`.
    # * Transaction fees types that you can book to the specified `account`:
    #    * **AcquiringFees**: The aggregated amount of the interchange and
    # scheme fees.
    #    * **PaymentFee**: The aggregated amount of all transaction fees.
    #    * **AdyenFees**: The aggregated amount of Adyen's commission and markup
    # fees.
    #    * **AdyenCommission**: The transaction fees due to Adyen under [blended
    # rates](https://www.adyen.com/knowledge-hub/interchange-fees-explained).
    #    * **AdyenMarkup**: The transaction fees due to Adyen under [Interchange
    # ++
    # pricing](https://www.adyen.com/knowledge-hub/interchange-fees-explained).
    #    * **Interchange**: The fees paid to the issuer for each payment made
    # with the card network.
    #    * **SchemeFee**: The fees paid to the card scheme for using their
    # network. 
    # * **Commission**: Your platform's commission on the payment (specified in
    # `amount`), booked to your liable balance account.
    # * **Remainder**: The amount left over after a currency conversion, booked
    # to the specified `account`.
    # * **Surcharge**: The payment acceptance fee imposed by the card scheme or
    # debit network provider, paid by your user's customer.
    # * **TopUp**: Allows you and your users to top up balance accounts using
    # direct debit, card payments, or other payment methods.
    # * **VAT**: The value-added tax charged on the payment, booked to your
    # platforms liable balance account.
    # * **Default**: In very specific use cases, allows you to book the
    # specified `amount` to the specified `account`. For more information,
    # contact Adyen support.
    # Possible values for the [Classic Platforms
    # integration](https://docs.adyen.com/classic-platforms): **Commission**,
    # **Default**, **MarketPlace**, **PaymentFee**, **VAT**.
    # @return [Type9]
    attr_accessor :type

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['account'] = 'account'
      @_hash['amount'] = 'amount'
      @_hash['description'] = 'description'
      @_hash['reference'] = 'reference'
      @_hash['type'] = 'type'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        account
        amount
        description
        reference
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(type:, account: SKIP, amount: SKIP, description: SKIP,
                   reference: SKIP)
      @account = account unless account == SKIP
      @amount = amount unless amount == SKIP
      @description = description unless description == SKIP
      @reference = reference unless reference == SKIP
      @type = type
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      type = hash.key?('type') ? hash['type'] : nil
      account = hash.key?('account') ? hash['account'] : SKIP
      amount = SplitAmount2.from_hash(hash['amount']) if hash['amount']
      description = hash.key?('description') ? hash['description'] : SKIP
      reference = hash.key?('reference') ? hash['reference'] : SKIP

      # Create object from extracted values.
      Split.new(type: type,
                account: account,
                amount: amount,
                description: description,
                reference: reference)
    end

    # Validates an instance of the object from a given value.
    # @param [Split | Hash] The value against the validation is performed.
    def self.validate(value)
      if value.instance_of? self
        return APIHelper.valid_type?(value.type,
                                     ->(val) { Type9.validate(val) })
      end

      return false unless value.instance_of? Hash

      APIHelper.valid_type?(value['type'],
                            ->(val) { Type9.validate(val) })
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} account: #{@account}, amount: #{@amount}, description: #{@description},"\
      " reference: #{@reference}, type: #{@type}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} account: #{@account.inspect}, amount: #{@amount.inspect}, description:"\
      " #{@description.inspect}, reference: #{@reference.inspect}, type: #{@type.inspect}>"
    end
  end
end
