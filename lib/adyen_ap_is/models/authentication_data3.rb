# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # Data for 3DS authentication.
  class AuthenticationData3 < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # Indicates when 3D Secure authentication should be attempted. This
    # overrides all other rules, including [Dynamic 3D Secure
    # settings](https://docs.adyen.com/risk-management/dynamic-3d-secure).
    # Possible values:
    # * **always**: Perform 3D Secure authentication.
    # * **never**: Don't perform 3D Secure authentication. If PSD2 SCA or other
    # national regulations require authentication, the transaction gets
    # declined.
    # @return [AttemptAuthentication]
    attr_accessor :attempt_authentication

    # Required to trigger the [authentication-only
    # flow](https://docs.adyen.com/online-payments/3d-secure/authentication-only
    # /). If set to **true**, you will only perform the 3D Secure 2
    # authentication, and will not proceed to the payment authorization.
    # Default: **false**.
    # @return [TrueClass | FalseClass]
    attr_accessor :authentication_only

    # Object with additional parameters for the 3D Secure authentication flow.
    # @return [ThreeDsRequestData2]
    attr_accessor :three_ds_request_data

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['attempt_authentication'] = 'attemptAuthentication'
      @_hash['authentication_only'] = 'authenticationOnly'
      @_hash['three_ds_request_data'] = 'threeDSRequestData'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        attempt_authentication
        authentication_only
        three_ds_request_data
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(attempt_authentication: SKIP, authentication_only: false,
                   three_ds_request_data: SKIP)
      @attempt_authentication = attempt_authentication unless attempt_authentication == SKIP
      @authentication_only = authentication_only unless authentication_only == SKIP
      @three_ds_request_data = three_ds_request_data unless three_ds_request_data == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      attempt_authentication =
        hash.key?('attemptAuthentication') ? hash['attemptAuthentication'] : SKIP
      authentication_only = hash['authenticationOnly'] ||= false
      three_ds_request_data = ThreeDsRequestData2.from_hash(hash['threeDSRequestData']) if
        hash['threeDSRequestData']

      # Create object from extracted values.
      AuthenticationData3.new(attempt_authentication: attempt_authentication,
                              authentication_only: authentication_only,
                              three_ds_request_data: three_ds_request_data)
    end

    # Validates an instance of the object from a given value.
    # @param [AuthenticationData3 | Hash] The value against the validation is performed.
    def self.validate(value)
      return true if value.instance_of? self

      return false unless value.instance_of? Hash

      true
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} attempt_authentication: #{@attempt_authentication}, authentication_only:"\
      " #{@authentication_only}, three_ds_request_data: #{@three_ds_request_data}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} attempt_authentication: #{@attempt_authentication.inspect},"\
      " authentication_only: #{@authentication_only.inspect}, three_ds_request_data:"\
      " #{@three_ds_request_data.inspect}>"
    end
  end
end
