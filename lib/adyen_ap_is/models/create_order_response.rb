# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # CreateOrderResponse Model.
  class CreateOrderResponse < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # Contains additional information about the payment. Some data fields are
    # included only if you select them first: Go to **Customer Area** >
    # **Developers** > **Additional data**.
    # @return [Hash[String, String]]
    attr_accessor :additional_data

    # The initial amount of the order.
    # @return [Amount11]
    attr_accessor :amount

    # The date that the order will expire.
    # @return [String]
    attr_accessor :expires_at

    # The fraud result properties of the payment.
    # @return [FraudResult1]
    attr_accessor :fraud_result

    # The encrypted data that will be used by merchant for adding payments to
    # the order.
    # @return [String]
    attr_accessor :order_data

    # Adyen's 16-character reference associated with the transaction/request.
    # This value is globally unique; quote it when communicating with us about
    # this request.
    # @return [String]
    attr_accessor :psp_reference

    # The reference provided by merchant for creating the order.
    # @return [String]
    attr_accessor :reference

    # If the payment's authorisation is refused or an error occurs during
    # authorisation, this field holds Adyen's mapped reason for the refusal or a
    # description of the error. When a transaction fails, the authorisation
    # response includes `resultCode` and `refusalReason` values.
    # For more information, see [Refusal
    # reasons](https://docs.adyen.com/development-resources/refusal-reasons).
    # @return [String]
    attr_accessor :refusal_reason

    # The remaining amount in the order.
    # @return [Amount22]
    attr_accessor :remaining_amount

    # The result of the order creation request.
    #  The value is always **Success**.
    # @return [String]
    attr_reader :result_code

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['additional_data'] = 'additionalData'
      @_hash['amount'] = 'amount'
      @_hash['expires_at'] = 'expiresAt'
      @_hash['fraud_result'] = 'fraudResult'
      @_hash['order_data'] = 'orderData'
      @_hash['psp_reference'] = 'pspReference'
      @_hash['reference'] = 'reference'
      @_hash['refusal_reason'] = 'refusalReason'
      @_hash['remaining_amount'] = 'remainingAmount'
      @_hash['result_code'] = 'resultCode'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        additional_data
        fraud_result
        psp_reference
        reference
        refusal_reason
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(amount:, expires_at:, order_data:, remaining_amount:,
                   additional_data: SKIP, fraud_result: SKIP,
                   psp_reference: SKIP, reference: SKIP, refusal_reason: SKIP)
      @additional_data = additional_data unless additional_data == SKIP
      @amount = amount
      @expires_at = expires_at
      @fraud_result = fraud_result unless fraud_result == SKIP
      @order_data = order_data
      @psp_reference = psp_reference unless psp_reference == SKIP
      @reference = reference unless reference == SKIP
      @refusal_reason = refusal_reason unless refusal_reason == SKIP
      @remaining_amount = remaining_amount
      @result_code = 'Success'
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      amount = Amount11.from_hash(hash['amount']) if hash['amount']
      expires_at = hash.key?('expiresAt') ? hash['expiresAt'] : nil
      order_data = hash.key?('orderData') ? hash['orderData'] : nil
      remaining_amount = Amount22.from_hash(hash['remainingAmount']) if hash['remainingAmount']
      additional_data =
        hash.key?('additionalData') ? hash['additionalData'] : SKIP
      fraud_result = FraudResult1.from_hash(hash['fraudResult']) if hash['fraudResult']
      psp_reference = hash.key?('pspReference') ? hash['pspReference'] : SKIP
      reference = hash.key?('reference') ? hash['reference'] : SKIP
      refusal_reason = hash.key?('refusalReason') ? hash['refusalReason'] : SKIP

      # Create object from extracted values.
      CreateOrderResponse.new(amount: amount,
                              expires_at: expires_at,
                              order_data: order_data,
                              remaining_amount: remaining_amount,
                              additional_data: additional_data,
                              fraud_result: fraud_result,
                              psp_reference: psp_reference,
                              reference: reference,
                              refusal_reason: refusal_reason)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} additional_data: #{@additional_data}, amount: #{@amount}, expires_at:"\
      " #{@expires_at}, fraud_result: #{@fraud_result}, order_data: #{@order_data}, psp_reference:"\
      " #{@psp_reference}, reference: #{@reference}, refusal_reason: #{@refusal_reason},"\
      " remaining_amount: #{@remaining_amount}, result_code: #{@result_code}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} additional_data: #{@additional_data.inspect}, amount: #{@amount.inspect},"\
      " expires_at: #{@expires_at.inspect}, fraud_result: #{@fraud_result.inspect}, order_data:"\
      " #{@order_data.inspect}, psp_reference: #{@psp_reference.inspect}, reference:"\
      " #{@reference.inspect}, refusal_reason: #{@refusal_reason.inspect}, remaining_amount:"\
      " #{@remaining_amount.inspect}, result_code: #{@result_code.inspect}>"
    end
  end
end
