# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # Settings for store-and-forward offline payments. The `maxAmount`,
  # `maxPayments`, and `supportedCardTypes` parameters must be configured,
  # either in the request or inherited from a higher level in your account
  # structure.
  class StoreAndForward1 < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # The maximum amount that the terminal accepts for a single
    # store-and-forward payment.
    # @return [Array[MinorUnitsMonetaryValue]]
    attr_accessor :max_amount

    # The maximum number of store-and-forward transactions per terminal that you
    # can process while offline.
    # @return [Integer]
    attr_accessor :max_payments

    # The type of card for which the terminal accepts store-and-forward
    # payments. You can specify multiple card types.
    # @return [SupportedCardTypes2]
    attr_accessor :supported_card_types

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['max_amount'] = 'maxAmount'
      @_hash['max_payments'] = 'maxPayments'
      @_hash['supported_card_types'] = 'supportedCardTypes'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        max_amount
        max_payments
        supported_card_types
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(max_amount: SKIP, max_payments: SKIP,
                   supported_card_types: SKIP)
      @max_amount = max_amount unless max_amount == SKIP
      @max_payments = max_payments unless max_payments == SKIP
      @supported_card_types = supported_card_types unless supported_card_types == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      # Parameter is an array, so we need to iterate through it
      max_amount = nil
      unless hash['maxAmount'].nil?
        max_amount = []
        hash['maxAmount'].each do |structure|
          max_amount << (MinorUnitsMonetaryValue.from_hash(structure) if structure)
        end
      end

      max_amount = SKIP unless hash.key?('maxAmount')
      max_payments = hash.key?('maxPayments') ? hash['maxPayments'] : SKIP
      supported_card_types = SupportedCardTypes2.from_hash(hash['supportedCardTypes']) if
        hash['supportedCardTypes']

      # Create object from extracted values.
      StoreAndForward1.new(max_amount: max_amount,
                           max_payments: max_payments,
                           supported_card_types: supported_card_types)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} max_amount: #{@max_amount}, max_payments: #{@max_payments},"\
      " supported_card_types: #{@supported_card_types}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} max_amount: #{@max_amount.inspect}, max_payments: #{@max_payments.inspect},"\
      " supported_card_types: #{@supported_card_types.inspect}>"
    end
  end
end
