# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # Webhook Model.
  class Webhook < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # References to resources connected with this webhook.
    # @return [WebhookLinks2]
    attr_accessor :links

    # Indicates if expired SSL certificates are accepted. Default value:
    # **false**.
    # @return [TrueClass | FalseClass]
    attr_accessor :accepts_expired_certificate

    # Indicates if self-signed SSL certificates are accepted. Default value:
    # **false**.
    # @return [TrueClass | FalseClass]
    attr_accessor :accepts_self_signed_certificate

    # Indicates if untrusted SSL certificates are accepted. Default value:
    # **false**.
    # @return [TrueClass | FalseClass]
    attr_accessor :accepts_untrusted_root_certificate

    # Reference to the account the webook is set on.
    # @return [String]
    attr_accessor :account_reference

    # Indicates if the webhook configuration is active. The field must be
    # **true** for you to receive webhooks about events related an account.
    # @return [TrueClass | FalseClass]
    attr_accessor :active

    # Additional shopper and transaction information to be included in your
    # [standard
    # webhooks](https://docs.adyen.com/development-resources/webhooks/webhook-ty
    # pes/#event-codes). Find out more about the available [additional
    # settings](https://docs.adyen.com/development-resources/webhooks/additional
    # -settings).
    # @return [AdditionalSettingsResponse1]
    attr_accessor :additional_settings

    # The alias of our SSL certificate. When you receive a notification from us,
    # the alias from the HMAC signature will match this alias.
    # @return [String]
    attr_accessor :certificate_alias

    # Format or protocol for receiving webhooks. Possible values:
    # * **soap**
    # * **http**
    # * **json**
    # @return [CommunicationFormat]
    attr_accessor :communication_format

    # Your description for this webhook configuration.
    # @return [String]
    attr_accessor :description

    # SSL version to access the public webhook URL specified in the `url` field.
    # Possible values:
    # * **TLSv1.3**
    # * **TLSv1.2**
    # * **HTTP** - Only allowed on Test environment.
    # If not specified, the webhook will use `sslVersion`: **TLSv1.2**.
    # @return [EncryptionProtocol]
    attr_accessor :encryption_protocol

    # Shows how merchant accounts are included in company-level webhooks.
    # Possible values:
    # * **includeAccounts**
    # * **excludeAccounts**
    # * **allAccounts**: Includes all merchant accounts, and does not require
    # specifying `filterMerchantAccounts`.
    # @return [FilterMerchantAccountType1]
    attr_accessor :filter_merchant_account_type

    # A list of merchant account names that are included or excluded from
    # receiving the webhook. Inclusion or exclusion is based on the value
    # defined for `filterMerchantAccountType`.
    # Required if `filterMerchantAccountType` is either:
    # * **includeAccounts**
    # * **excludeAccounts**
    # Not needed for `filterMerchantAccountType`: **allAccounts**.
    # @return [Array[String]]
    attr_accessor :filter_merchant_accounts

    # Indicates if the webhook configuration has errors that need
    # troubleshooting. If the value is **true**, troubleshoot the configuration
    # using the [testing
    # endpoint](https://docs.adyen.com/api-explorer/#/ManagementService/v1/post/
    # companies/{companyId}/webhooks/{webhookid}/test).
    # @return [TrueClass | FalseClass]
    attr_accessor :has_error

    # Indicates if the webhook is password protected.
    # @return [TrueClass | FalseClass]
    attr_accessor :has_password

    # The [checksum](https://en.wikipedia.org/wiki/Key_checksum_value) of the
    # HMAC key generated for this webhook. You can use this value to uniquely
    # identify the HMAC key configured for this webhook.
    # @return [String]
    attr_accessor :hmac_key_check_value

    # Unique identifier for this webhook.
    # @return [String]
    attr_accessor :id

    # Network type for Terminal API details webhooks.
    # @return [NetworkType2]
    attr_accessor :network_type

    # Indicates if the SOAP action header needs to be populated. Default value:
    # **false**.
    # Only applies if `communicationFormat`: **soap**.
    # @return [TrueClass | FalseClass]
    attr_accessor :populate_soap_action_header

    # The type of webhook. Possible values are:
    # - **standard**
    # - **account-settings-notification**
    # - **banktransfer-notification**
    # - **boletobancario-notification**
    # - **directdebit-notification**
    # - **ach-notification-of-change-notification**
    # - **direct-debit-notice-of-change-notification**
    # - **pending-notification**
    # - **ideal-notification**
    # - **ideal-pending-notification**
    # - **report-notification**
    # - **terminal-api-notification**
    # - **terminal-settings**
    # - **terminal-boarding**
    # Find out more about [standard
    # webhooks](https://docs.adyen.com/development-resources/webhooks/webhook-ty
    # pes/#event-codes) and [other types of
    # webhooks](https://docs.adyen.com/development-resources/webhooks/webhook-ty
    # pes/#other-webhooks).
    # @return [String]
    attr_accessor :type

    # Public URL where webhooks will be sent, for example
    # **https://www.domain.com/webhook-endpoint**.
    # @return [String]
    attr_accessor :url

    # Username to access the webhook URL.
    # @return [String]
    attr_accessor :username

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['links'] = '_links'
      @_hash['accepts_expired_certificate'] = 'acceptsExpiredCertificate'
      @_hash['accepts_self_signed_certificate'] =
        'acceptsSelfSignedCertificate'
      @_hash['accepts_untrusted_root_certificate'] =
        'acceptsUntrustedRootCertificate'
      @_hash['account_reference'] = 'accountReference'
      @_hash['active'] = 'active'
      @_hash['additional_settings'] = 'additionalSettings'
      @_hash['certificate_alias'] = 'certificateAlias'
      @_hash['communication_format'] = 'communicationFormat'
      @_hash['description'] = 'description'
      @_hash['encryption_protocol'] = 'encryptionProtocol'
      @_hash['filter_merchant_account_type'] = 'filterMerchantAccountType'
      @_hash['filter_merchant_accounts'] = 'filterMerchantAccounts'
      @_hash['has_error'] = 'hasError'
      @_hash['has_password'] = 'hasPassword'
      @_hash['hmac_key_check_value'] = 'hmacKeyCheckValue'
      @_hash['id'] = 'id'
      @_hash['network_type'] = 'networkType'
      @_hash['populate_soap_action_header'] = 'populateSoapActionHeader'
      @_hash['type'] = 'type'
      @_hash['url'] = 'url'
      @_hash['username'] = 'username'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        links
        accepts_expired_certificate
        accepts_self_signed_certificate
        accepts_untrusted_root_certificate
        account_reference
        additional_settings
        certificate_alias
        description
        encryption_protocol
        filter_merchant_account_type
        filter_merchant_accounts
        has_error
        has_password
        hmac_key_check_value
        id
        network_type
        populate_soap_action_header
        username
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(active:, communication_format:, type:, url:, links: SKIP,
                   accepts_expired_certificate: SKIP,
                   accepts_self_signed_certificate: SKIP,
                   accepts_untrusted_root_certificate: SKIP,
                   account_reference: SKIP, additional_settings: SKIP,
                   certificate_alias: SKIP, description: SKIP,
                   encryption_protocol: SKIP,
                   filter_merchant_account_type: SKIP,
                   filter_merchant_accounts: SKIP, has_error: SKIP,
                   has_password: SKIP, hmac_key_check_value: SKIP, id: SKIP,
                   network_type: SKIP, populate_soap_action_header: SKIP,
                   username: SKIP)
      @links = links unless links == SKIP
      unless accepts_expired_certificate == SKIP
        @accepts_expired_certificate =
          accepts_expired_certificate
      end
      unless accepts_self_signed_certificate == SKIP
        @accepts_self_signed_certificate =
          accepts_self_signed_certificate
      end
      unless accepts_untrusted_root_certificate == SKIP
        @accepts_untrusted_root_certificate =
          accepts_untrusted_root_certificate
      end
      @account_reference = account_reference unless account_reference == SKIP
      @active = active
      @additional_settings = additional_settings unless additional_settings == SKIP
      @certificate_alias = certificate_alias unless certificate_alias == SKIP
      @communication_format = communication_format
      @description = description unless description == SKIP
      @encryption_protocol = encryption_protocol unless encryption_protocol == SKIP
      unless filter_merchant_account_type == SKIP
        @filter_merchant_account_type =
          filter_merchant_account_type
      end
      @filter_merchant_accounts = filter_merchant_accounts unless filter_merchant_accounts == SKIP
      @has_error = has_error unless has_error == SKIP
      @has_password = has_password unless has_password == SKIP
      @hmac_key_check_value = hmac_key_check_value unless hmac_key_check_value == SKIP
      @id = id unless id == SKIP
      @network_type = network_type unless network_type == SKIP
      unless populate_soap_action_header == SKIP
        @populate_soap_action_header =
          populate_soap_action_header
      end
      @type = type
      @url = url
      @username = username unless username == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      active = hash.key?('active') ? hash['active'] : nil
      communication_format =
        hash.key?('communicationFormat') ? hash['communicationFormat'] : nil
      type = hash.key?('type') ? hash['type'] : nil
      url = hash.key?('url') ? hash['url'] : nil
      links = WebhookLinks2.from_hash(hash['_links']) if hash['_links']
      accepts_expired_certificate =
        hash.key?('acceptsExpiredCertificate') ? hash['acceptsExpiredCertificate'] : SKIP
      accepts_self_signed_certificate =
        hash.key?('acceptsSelfSignedCertificate') ? hash['acceptsSelfSignedCertificate'] : SKIP
      accepts_untrusted_root_certificate =
        hash.key?('acceptsUntrustedRootCertificate') ? hash['acceptsUntrustedRootCertificate'] : SKIP
      account_reference =
        hash.key?('accountReference') ? hash['accountReference'] : SKIP
      additional_settings = AdditionalSettingsResponse1.from_hash(hash['additionalSettings']) if
        hash['additionalSettings']
      certificate_alias =
        hash.key?('certificateAlias') ? hash['certificateAlias'] : SKIP
      description = hash.key?('description') ? hash['description'] : SKIP
      encryption_protocol =
        hash.key?('encryptionProtocol') ? hash['encryptionProtocol'] : SKIP
      filter_merchant_account_type =
        hash.key?('filterMerchantAccountType') ? hash['filterMerchantAccountType'] : SKIP
      filter_merchant_accounts =
        hash.key?('filterMerchantAccounts') ? hash['filterMerchantAccounts'] : SKIP
      has_error = hash.key?('hasError') ? hash['hasError'] : SKIP
      has_password = hash.key?('hasPassword') ? hash['hasPassword'] : SKIP
      hmac_key_check_value =
        hash.key?('hmacKeyCheckValue') ? hash['hmacKeyCheckValue'] : SKIP
      id = hash.key?('id') ? hash['id'] : SKIP
      network_type = hash.key?('networkType') ? hash['networkType'] : SKIP
      populate_soap_action_header =
        hash.key?('populateSoapActionHeader') ? hash['populateSoapActionHeader'] : SKIP
      username = hash.key?('username') ? hash['username'] : SKIP

      # Create object from extracted values.
      Webhook.new(active: active,
                  communication_format: communication_format,
                  type: type,
                  url: url,
                  links: links,
                  accepts_expired_certificate: accepts_expired_certificate,
                  accepts_self_signed_certificate: accepts_self_signed_certificate,
                  accepts_untrusted_root_certificate: accepts_untrusted_root_certificate,
                  account_reference: account_reference,
                  additional_settings: additional_settings,
                  certificate_alias: certificate_alias,
                  description: description,
                  encryption_protocol: encryption_protocol,
                  filter_merchant_account_type: filter_merchant_account_type,
                  filter_merchant_accounts: filter_merchant_accounts,
                  has_error: has_error,
                  has_password: has_password,
                  hmac_key_check_value: hmac_key_check_value,
                  id: id,
                  network_type: network_type,
                  populate_soap_action_header: populate_soap_action_header,
                  username: username)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} links: #{@links}, accepts_expired_certificate:"\
      " #{@accepts_expired_certificate}, accepts_self_signed_certificate:"\
      " #{@accepts_self_signed_certificate}, accepts_untrusted_root_certificate:"\
      " #{@accepts_untrusted_root_certificate}, account_reference: #{@account_reference}, active:"\
      " #{@active}, additional_settings: #{@additional_settings}, certificate_alias:"\
      " #{@certificate_alias}, communication_format: #{@communication_format}, description:"\
      " #{@description}, encryption_protocol: #{@encryption_protocol},"\
      " filter_merchant_account_type: #{@filter_merchant_account_type}, filter_merchant_accounts:"\
      " #{@filter_merchant_accounts}, has_error: #{@has_error}, has_password: #{@has_password},"\
      " hmac_key_check_value: #{@hmac_key_check_value}, id: #{@id}, network_type:"\
      " #{@network_type}, populate_soap_action_header: #{@populate_soap_action_header}, type:"\
      " #{@type}, url: #{@url}, username: #{@username}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} links: #{@links.inspect}, accepts_expired_certificate:"\
      " #{@accepts_expired_certificate.inspect}, accepts_self_signed_certificate:"\
      " #{@accepts_self_signed_certificate.inspect}, accepts_untrusted_root_certificate:"\
      " #{@accepts_untrusted_root_certificate.inspect}, account_reference:"\
      " #{@account_reference.inspect}, active: #{@active.inspect}, additional_settings:"\
      " #{@additional_settings.inspect}, certificate_alias: #{@certificate_alias.inspect},"\
      " communication_format: #{@communication_format.inspect}, description:"\
      " #{@description.inspect}, encryption_protocol: #{@encryption_protocol.inspect},"\
      " filter_merchant_account_type: #{@filter_merchant_account_type.inspect},"\
      " filter_merchant_accounts: #{@filter_merchant_accounts.inspect}, has_error:"\
      " #{@has_error.inspect}, has_password: #{@has_password.inspect}, hmac_key_check_value:"\
      " #{@hmac_key_check_value.inspect}, id: #{@id.inspect}, network_type:"\
      " #{@network_type.inspect}, populate_soap_action_header:"\
      " #{@populate_soap_action_header.inspect}, type: #{@type.inspect}, url: #{@url.inspect},"\
      " username: #{@username.inspect}>"
    end
  end
end
