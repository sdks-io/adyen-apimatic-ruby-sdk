# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

require 'date'
module AdyenApIs
  # Terminal Model.
  class Terminal < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # Indicates the account level to which the terminal is assigned, the
    # [assignment
    # status](https://docs.adyen.com/point-of-sale/automating-terminal-managemen
    # t/assign-terminals-api), and where the terminals is in the process of
    # being reassigned to.
    # @return [TerminalAssignment2]
    attr_accessor :assignment

    # Information about bluetooth, cellular, ethernet and wifi connectivity for
    # the terminal.
    # @return [TerminalConnectivity2]
    attr_accessor :connectivity

    # The software release currently in use on the terminal.
    # @return [String]
    attr_accessor :firmware_version

    # The unique identifier of the terminal.
    # @return [String]
    attr_accessor :id

    # A list of Android apps installed on the terminal.
    # @return [Array[InstalledApKs]]
    attr_accessor :installed_ap_ks

    # Date and time of the last activity on the terminal. Not included when the
    # last activity was more than 14 days ago.
    # @return [DateTime]
    attr_accessor :last_activity_at

    # Date and time of the last transaction on the terminal. Not included when
    # the last transaction was more than 14 days ago.
    # @return [DateTime]
    attr_accessor :last_transaction_at

    # The model name of the terminal.
    # @return [String]
    attr_accessor :model

    # The exact time of the terminal reboot, in the timezone of the terminal in
    # **HH:mm** format.
    # @return [String]
    attr_accessor :restart_local_time

    # The serial number of the terminal.
    # @return [String]
    attr_accessor :serial_number

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['assignment'] = 'assignment'
      @_hash['connectivity'] = 'connectivity'
      @_hash['firmware_version'] = 'firmwareVersion'
      @_hash['id'] = 'id'
      @_hash['installed_ap_ks'] = 'installedAPKs'
      @_hash['last_activity_at'] = 'lastActivityAt'
      @_hash['last_transaction_at'] = 'lastTransactionAt'
      @_hash['model'] = 'model'
      @_hash['restart_local_time'] = 'restartLocalTime'
      @_hash['serial_number'] = 'serialNumber'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        assignment
        connectivity
        firmware_version
        id
        installed_ap_ks
        last_activity_at
        last_transaction_at
        model
        restart_local_time
        serial_number
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(assignment: SKIP, connectivity: SKIP, firmware_version: SKIP,
                   id: SKIP, installed_ap_ks: SKIP, last_activity_at: SKIP,
                   last_transaction_at: SKIP, model: SKIP,
                   restart_local_time: SKIP, serial_number: SKIP)
      @assignment = assignment unless assignment == SKIP
      @connectivity = connectivity unless connectivity == SKIP
      @firmware_version = firmware_version unless firmware_version == SKIP
      @id = id unless id == SKIP
      @installed_ap_ks = installed_ap_ks unless installed_ap_ks == SKIP
      @last_activity_at = last_activity_at unless last_activity_at == SKIP
      @last_transaction_at = last_transaction_at unless last_transaction_at == SKIP
      @model = model unless model == SKIP
      @restart_local_time = restart_local_time unless restart_local_time == SKIP
      @serial_number = serial_number unless serial_number == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      assignment = TerminalAssignment2.from_hash(hash['assignment']) if hash['assignment']
      connectivity = TerminalConnectivity2.from_hash(hash['connectivity']) if hash['connectivity']
      firmware_version =
        hash.key?('firmwareVersion') ? hash['firmwareVersion'] : SKIP
      id = hash.key?('id') ? hash['id'] : SKIP
      # Parameter is an array, so we need to iterate through it
      installed_ap_ks = nil
      unless hash['installedAPKs'].nil?
        installed_ap_ks = []
        hash['installedAPKs'].each do |structure|
          installed_ap_ks << (InstalledApKs.from_hash(structure) if structure)
        end
      end

      installed_ap_ks = SKIP unless hash.key?('installedAPKs')
      last_activity_at = if hash.key?('lastActivityAt')
                           (DateTimeHelper.from_rfc3339(hash['lastActivityAt']) if hash['lastActivityAt'])
                         else
                           SKIP
                         end
      last_transaction_at = if hash.key?('lastTransactionAt')
                              (DateTimeHelper.from_rfc3339(hash['lastTransactionAt']) if hash['lastTransactionAt'])
                            else
                              SKIP
                            end
      model = hash.key?('model') ? hash['model'] : SKIP
      restart_local_time =
        hash.key?('restartLocalTime') ? hash['restartLocalTime'] : SKIP
      serial_number = hash.key?('serialNumber') ? hash['serialNumber'] : SKIP

      # Create object from extracted values.
      Terminal.new(assignment: assignment,
                   connectivity: connectivity,
                   firmware_version: firmware_version,
                   id: id,
                   installed_ap_ks: installed_ap_ks,
                   last_activity_at: last_activity_at,
                   last_transaction_at: last_transaction_at,
                   model: model,
                   restart_local_time: restart_local_time,
                   serial_number: serial_number)
    end

    def to_custom_last_activity_at
      DateTimeHelper.to_rfc3339(last_activity_at)
    end

    def to_custom_last_transaction_at
      DateTimeHelper.to_rfc3339(last_transaction_at)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} assignment: #{@assignment}, connectivity: #{@connectivity},"\
      " firmware_version: #{@firmware_version}, id: #{@id}, installed_ap_ks: #{@installed_ap_ks},"\
      " last_activity_at: #{@last_activity_at}, last_transaction_at: #{@last_transaction_at},"\
      " model: #{@model}, restart_local_time: #{@restart_local_time}, serial_number:"\
      " #{@serial_number}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} assignment: #{@assignment.inspect}, connectivity: #{@connectivity.inspect},"\
      " firmware_version: #{@firmware_version.inspect}, id: #{@id.inspect}, installed_ap_ks:"\
      " #{@installed_ap_ks.inspect}, last_activity_at: #{@last_activity_at.inspect},"\
      " last_transaction_at: #{@last_transaction_at.inspect}, model: #{@model.inspect},"\
      " restart_local_time: #{@restart_local_time.inspect}, serial_number:"\
      " #{@serial_number.inspect}>"
    end
  end
end
