# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # PaymentMethodsRequest Model.
  class PaymentMethodsRequest < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # This field contains additional data, which may be required for a
    # particular payment request.
    # The `additionalData` object consists of entries, each of which includes
    # the key and value.
    # @return [Hash[String, String]]
    attr_accessor :additional_data

    # List of payment methods to be presented to the shopper. To refer to
    # payment methods, use their [payment method
    # type](https://docs.adyen.com/payment-methods/payment-method-types).
    # Example: `"allowedPaymentMethods":["ideal","applepay"]`
    # @return [Array[String]]
    attr_accessor :allowed_payment_methods

    # The amount information for the transaction (in [minor
    # units](https://docs.adyen.com/development-resources/currency-codes)). For
    # [BIN or card
    # verification](https://docs.adyen.com/payment-methods/cards/bin-data-and-ca
    # rd-verification) requests, set amount to 0 (zero).
    # @return [Amount2]
    attr_accessor :amount

    # List of payment methods to be hidden from the shopper. To refer to payment
    # methods, use their [payment method
    # type](https://docs.adyen.com/payment-methods/payment-method-types).
    # Example: `"blockedPaymentMethods":["ideal","applepay"]`
    # @return [Array[String]]
    attr_accessor :blocked_payment_methods

    # The shopper's browser information.
    # > For 3D Secure, the full object is required for web integrations. For
    # mobile app integrations, include the `userAgent` and `acceptHeader` fields
    # to indicate  that your integration can support a redirect in case a
    # payment is routed to 3D Secure 2 redirect.
    # @return [BrowserInfo2]
    attr_accessor :browser_info

    # The platform where a payment transaction takes place. This field can be
    # used for filtering out payment methods that are only available on specific
    # platforms. Possible values:
    # * iOS
    # * Android
    # * Web
    # @return [Channel3]
    attr_accessor :channel

    # The shopper's country code.
    # @return [String]
    attr_accessor :country_code

    # The merchant account identifier, with which you want to process the
    # transaction.
    # @return [String]
    attr_accessor :merchant_account

    # The order information required for partial payments.
    # @return [EncryptedOrderData2]
    attr_accessor :order

    # A unique ID that can be used to associate `/paymentMethods` and
    # `/payments` requests with the same shopper transaction, offering insights
    # into conversion rates.
    # @return [String]
    attr_accessor :shopper_conversion_id

    # The shopper's email address. We recommend that you provide this data, as
    # it is used in velocity fraud checks. > Required for Visa and JCB
    # transactions that require 3D Secure 2 authentication if you did not
    # include the `telephoneNumber`.
    # @return [String]
    attr_accessor :shopper_email

    # The shopper's IP address. We recommend that you provide this data, as it
    # is used in a number of risk checks (for instance, number of payment
    # attempts or location-based checks).
    # > Required for Visa and JCB transactions that require 3D Secure 2
    # authentication for all web and mobile integrations, if you did not include
    # the `shopperEmail`. For native mobile integrations, the field is required
    # to support cases where authentication is routed to the redirect flow. This
    # field is also mandatory for some merchants depending on your business
    # model. For more information, [contact
    # Support](https://www.adyen.help/hc/en-us/requests/new).
    # @return [String]
    attr_accessor :shopper_ip

    # The combination of a language code and a country code to specify the
    # language to be used in the payment.
    # @return [String]
    attr_accessor :shopper_locale

    # Required for recurring payments. 
    # Your reference to uniquely identify this shopper, for example user ID or
    # account ID. The value is case-sensitive and must be at least three
    # characters.
    # > Your reference must not include personally identifiable information
    # (PII) such as name or email address.
    # @return [String]
    attr_accessor :shopper_reference

    # Boolean value indicating whether the card payment method should be split
    # into separate debit and credit options.
    # @return [TrueClass | FalseClass]
    attr_accessor :split_card_funding_sources

    # Required for Adyen for Platforms integrations if you are a platform model.
    # This is your
    # [reference](https://docs.adyen.com/api-explorer/Management/3/post/merchant
    # s/(merchantId)/stores#request-reference) (on [balance
    # platform](https://docs.adyen.com/platforms)) or the
    # [storeReference](https://docs.adyen.com/api-explorer/Account/latest/post/u
    # pdateAccountHolder#request-accountHolderDetails-storeDetails-storeReferenc
    # e) (in the [classic
    # integration](https://docs.adyen.com/classic-platforms/processing-payments/
    # route-payment-to-store/#route-a-payment-to-a-store)) for the ecommerce or
    # point-of-sale store that is processing the payment.
    # @return [String]
    attr_accessor :store

    # Specifies how payment methods should be filtered based on the `store`
    # parameter:
    #   - **exclusive**: Only payment methods belonging to the specified `store`
    # are returned.
    #   - **inclusive**: Payment methods from the `store` and those not
    # associated with any other store are returned.
    # @return [StoreFiltrationMode2]
    attr_accessor :store_filtration_mode

    # The shopper's telephone number.
    #  The phone number must include a plus sign (+) and a country code (1-3
    # digits), followed by the number (4-15 digits). If the value you provide
    # does not follow the guidelines, we do not submit it for authentication.
    # > Required for Visa and JCB transactions that require 3D Secure 2
    # authentication, if you did not include the `shopperEmail`.
    # @return [String]
    attr_accessor :telephone_number

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['additional_data'] = 'additionalData'
      @_hash['allowed_payment_methods'] = 'allowedPaymentMethods'
      @_hash['amount'] = 'amount'
      @_hash['blocked_payment_methods'] = 'blockedPaymentMethods'
      @_hash['browser_info'] = 'browserInfo'
      @_hash['channel'] = 'channel'
      @_hash['country_code'] = 'countryCode'
      @_hash['merchant_account'] = 'merchantAccount'
      @_hash['order'] = 'order'
      @_hash['shopper_conversion_id'] = 'shopperConversionId'
      @_hash['shopper_email'] = 'shopperEmail'
      @_hash['shopper_ip'] = 'shopperIP'
      @_hash['shopper_locale'] = 'shopperLocale'
      @_hash['shopper_reference'] = 'shopperReference'
      @_hash['split_card_funding_sources'] = 'splitCardFundingSources'
      @_hash['store'] = 'store'
      @_hash['store_filtration_mode'] = 'storeFiltrationMode'
      @_hash['telephone_number'] = 'telephoneNumber'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        additional_data
        allowed_payment_methods
        amount
        blocked_payment_methods
        browser_info
        channel
        country_code
        order
        shopper_conversion_id
        shopper_email
        shopper_ip
        shopper_locale
        shopper_reference
        split_card_funding_sources
        store
        store_filtration_mode
        telephone_number
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(merchant_account:, additional_data: SKIP,
                   allowed_payment_methods: SKIP, amount: SKIP,
                   blocked_payment_methods: SKIP, browser_info: SKIP,
                   channel: SKIP, country_code: SKIP, order: SKIP,
                   shopper_conversion_id: SKIP, shopper_email: SKIP,
                   shopper_ip: SKIP, shopper_locale: SKIP,
                   shopper_reference: SKIP, split_card_funding_sources: false,
                   store: SKIP, store_filtration_mode: SKIP,
                   telephone_number: SKIP)
      @additional_data = additional_data unless additional_data == SKIP
      @allowed_payment_methods = allowed_payment_methods unless allowed_payment_methods == SKIP
      @amount = amount unless amount == SKIP
      @blocked_payment_methods = blocked_payment_methods unless blocked_payment_methods == SKIP
      @browser_info = browser_info unless browser_info == SKIP
      @channel = channel unless channel == SKIP
      @country_code = country_code unless country_code == SKIP
      @merchant_account = merchant_account
      @order = order unless order == SKIP
      @shopper_conversion_id = shopper_conversion_id unless shopper_conversion_id == SKIP
      @shopper_email = shopper_email unless shopper_email == SKIP
      @shopper_ip = shopper_ip unless shopper_ip == SKIP
      @shopper_locale = shopper_locale unless shopper_locale == SKIP
      @shopper_reference = shopper_reference unless shopper_reference == SKIP
      unless split_card_funding_sources == SKIP
        @split_card_funding_sources =
          split_card_funding_sources
      end
      @store = store unless store == SKIP
      @store_filtration_mode = store_filtration_mode unless store_filtration_mode == SKIP
      @telephone_number = telephone_number unless telephone_number == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      merchant_account =
        hash.key?('merchantAccount') ? hash['merchantAccount'] : nil
      additional_data =
        hash.key?('additionalData') ? hash['additionalData'] : SKIP
      allowed_payment_methods =
        hash.key?('allowedPaymentMethods') ? hash['allowedPaymentMethods'] : SKIP
      amount = Amount2.from_hash(hash['amount']) if hash['amount']
      blocked_payment_methods =
        hash.key?('blockedPaymentMethods') ? hash['blockedPaymentMethods'] : SKIP
      browser_info = BrowserInfo2.from_hash(hash['browserInfo']) if hash['browserInfo']
      channel = hash.key?('channel') ? hash['channel'] : SKIP
      country_code = hash.key?('countryCode') ? hash['countryCode'] : SKIP
      order = EncryptedOrderData2.from_hash(hash['order']) if hash['order']
      shopper_conversion_id =
        hash.key?('shopperConversionId') ? hash['shopperConversionId'] : SKIP
      shopper_email = hash.key?('shopperEmail') ? hash['shopperEmail'] : SKIP
      shopper_ip = hash.key?('shopperIP') ? hash['shopperIP'] : SKIP
      shopper_locale = hash.key?('shopperLocale') ? hash['shopperLocale'] : SKIP
      shopper_reference =
        hash.key?('shopperReference') ? hash['shopperReference'] : SKIP
      split_card_funding_sources = hash['splitCardFundingSources'] ||= false
      store = hash.key?('store') ? hash['store'] : SKIP
      store_filtration_mode =
        hash.key?('storeFiltrationMode') ? hash['storeFiltrationMode'] : SKIP
      telephone_number =
        hash.key?('telephoneNumber') ? hash['telephoneNumber'] : SKIP

      # Create object from extracted values.
      PaymentMethodsRequest.new(merchant_account: merchant_account,
                                additional_data: additional_data,
                                allowed_payment_methods: allowed_payment_methods,
                                amount: amount,
                                blocked_payment_methods: blocked_payment_methods,
                                browser_info: browser_info,
                                channel: channel,
                                country_code: country_code,
                                order: order,
                                shopper_conversion_id: shopper_conversion_id,
                                shopper_email: shopper_email,
                                shopper_ip: shopper_ip,
                                shopper_locale: shopper_locale,
                                shopper_reference: shopper_reference,
                                split_card_funding_sources: split_card_funding_sources,
                                store: store,
                                store_filtration_mode: store_filtration_mode,
                                telephone_number: telephone_number)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} additional_data: #{@additional_data}, allowed_payment_methods:"\
      " #{@allowed_payment_methods}, amount: #{@amount}, blocked_payment_methods:"\
      " #{@blocked_payment_methods}, browser_info: #{@browser_info}, channel: #{@channel},"\
      " country_code: #{@country_code}, merchant_account: #{@merchant_account}, order: #{@order},"\
      " shopper_conversion_id: #{@shopper_conversion_id}, shopper_email: #{@shopper_email},"\
      " shopper_ip: #{@shopper_ip}, shopper_locale: #{@shopper_locale}, shopper_reference:"\
      " #{@shopper_reference}, split_card_funding_sources: #{@split_card_funding_sources}, store:"\
      " #{@store}, store_filtration_mode: #{@store_filtration_mode}, telephone_number:"\
      " #{@telephone_number}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} additional_data: #{@additional_data.inspect}, allowed_payment_methods:"\
      " #{@allowed_payment_methods.inspect}, amount: #{@amount.inspect}, blocked_payment_methods:"\
      " #{@blocked_payment_methods.inspect}, browser_info: #{@browser_info.inspect}, channel:"\
      " #{@channel.inspect}, country_code: #{@country_code.inspect}, merchant_account:"\
      " #{@merchant_account.inspect}, order: #{@order.inspect}, shopper_conversion_id:"\
      " #{@shopper_conversion_id.inspect}, shopper_email: #{@shopper_email.inspect}, shopper_ip:"\
      " #{@shopper_ip.inspect}, shopper_locale: #{@shopper_locale.inspect}, shopper_reference:"\
      " #{@shopper_reference.inspect}, split_card_funding_sources:"\
      " #{@split_card_funding_sources.inspect}, store: #{@store.inspect}, store_filtration_mode:"\
      " #{@store_filtration_mode.inspect}, telephone_number: #{@telephone_number.inspect}>"
    end
  end
end
