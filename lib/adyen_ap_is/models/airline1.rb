# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

require 'date'
module AdyenApIs
  # [Airline enhanced scheme
  # data](https://docs.adyen.com/payment-methods/cards/enhanced-scheme-data/airl
  # ine/) that may be required for processing the transaction and/or for
  # interchange savings.
  class Airline1 < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # TODO: Write general description for this method
    # @return [Agency]
    attr_accessor :agency

    # The amount charged for boarding the plane, in [minor
    # units](https://docs.adyen.com/development-resources/currency-codes).
    # * Encoding: Numeric
    # * minLength: 1 character
    # * maxLength: 11 characters
    # @return [Integer]
    attr_accessor :boarding_fee

    # The [IATA](https://www.iata.org/services/pages/codes.aspx) 3-digit
    # accounting code (PAX) that identifies the carrier.
    # * Format: IATA 3-digit accounting code (PAX)
    # * Example: KLM = 074
    # * minLength: 3 characters
    # * maxLength: 3 characters
    # * Must not start with a space or be all spaces.
    # * Must not be all zeros.
    # @return [String]
    attr_accessor :code

    # The [CRS](https://en.wikipedia.org/wiki/Computer_reservation_system) used
    # to make the reservation and purchase the ticket.
    # * Encoding: ASCII
    # * minLength: 4 characters
    # * maxLength: 4 characters
    # @return [String]
    attr_accessor :computerized_reservation_system

    # The alphanumeric customer reference number.
    # * Encoding: ASCII
    # * maxLength: 20 characters
    # * If you send more than 20 characters, the customer reference number is
    # truncated
    # * Must not start with a space or be all spaces.
    # @return [String]
    attr_accessor :customer_reference_number

    # The [IATA](https://www.iata.org/services/pages/codes.aspx) 2-letter
    # accounting code (PAX) that identifies the carrier.
    # * Encoding: ASCII
    # * Example: KLM = KL
    # * minLength: 2 characters
    # * maxLength: 2 characters
    # * Must not start with a space or be all spaces.
    # @return [String]
    attr_accessor :designator_code

    # A code that identifies the type of item bought. The description of the
    # code can appear on credit card statements.
    # * Encoding: ASCII
    # * Example: Passenger ticket = 01
    # * minLength: 2 characters
    # * maxLength: 2 characters
    # @return [String]
    attr_accessor :document_type

    # The flight departure date. Time is optional.
    # * Format for date only: `yyyy-MM-dd`
    # * Format for date and time: `yyyy-MM-ddTHH:mm`
    # * Use local time of departure airport.
    # * minLength: 10 characters
    # * maxLength: 16 characters
    # @return [DateTime]
    attr_accessor :flight_date

    # The flight departure date. Time is optional.
    # * Format for date only: `yyyy-MM-dd`
    # * Format for date and time: `yyyy-MM-ddTHH:mm`
    # * Use local time of departure airport.
    # * minLength: 10 characters
    # * maxLength: 16 characters
    # @return [Array[Leg]]
    attr_accessor :legs

    # The passenger's name, initials, and title.
    # * Format: last name + first name or initials + title
    # * Example: *FLYER / MARY MS*
    # * minLength: 1 character
    # * maxLength: 20 characters
    # * If you send more than 20 characters, the name is truncated
    # * Must not start with a space or be all spaces.
    # * Must not be all zeros.
    # @return [String]
    attr_accessor :passenger_name

    # The passenger's name, initials, and title.
    # * Format: last name + first name or initials + title
    # * Example: *FLYER / MARY MS*
    # * minLength: 1 character
    # * maxLength: 20 characters
    # * If you send more than 20 characters, the name is truncated
    # * Must not start with a space or be all spaces.
    # * Must not be all zeros.
    # @return [Array[Passenger]]
    attr_accessor :passengers

    # The passenger's name, initials, and title.
    # * Format: last name + first name or initials + title
    # * Example: *FLYER / MARY MS*
    # * minLength: 1 character
    # * maxLength: 20 characters
    # * If you send more than 20 characters, the name is truncated
    # * Must not start with a space or be all spaces.
    # * Must not be all zeros.
    # @return [Ticket]
    attr_accessor :ticket

    # The passenger's name, initials, and title.
    # * Format: last name + first name or initials + title
    # * Example: *FLYER / MARY MS*
    # * minLength: 1 character
    # * maxLength: 20 characters
    # * If you send more than 20 characters, the name is truncated
    # * Must not start with a space or be all spaces.
    # * Must not be all zeros.
    # @return [TravelAgency]
    attr_accessor :travel_agency

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['agency'] = 'agency'
      @_hash['boarding_fee'] = 'boardingFee'
      @_hash['code'] = 'code'
      @_hash['computerized_reservation_system'] =
        'computerizedReservationSystem'
      @_hash['customer_reference_number'] = 'customerReferenceNumber'
      @_hash['designator_code'] = 'designatorCode'
      @_hash['document_type'] = 'documentType'
      @_hash['flight_date'] = 'flightDate'
      @_hash['legs'] = 'legs'
      @_hash['passenger_name'] = 'passengerName'
      @_hash['passengers'] = 'passengers'
      @_hash['ticket'] = 'ticket'
      @_hash['travel_agency'] = 'travelAgency'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        agency
        boarding_fee
        code
        computerized_reservation_system
        customer_reference_number
        designator_code
        document_type
        flight_date
        legs
        passengers
        ticket
        travel_agency
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(passenger_name:, agency: SKIP, boarding_fee: SKIP,
                   code: SKIP, computerized_reservation_system: SKIP,
                   customer_reference_number: SKIP, designator_code: SKIP,
                   document_type: SKIP, flight_date: SKIP, legs: SKIP,
                   passengers: SKIP, ticket: SKIP, travel_agency: SKIP)
      @agency = agency unless agency == SKIP
      @boarding_fee = boarding_fee unless boarding_fee == SKIP
      @code = code unless code == SKIP
      unless computerized_reservation_system == SKIP
        @computerized_reservation_system =
          computerized_reservation_system
      end
      unless customer_reference_number == SKIP
        @customer_reference_number =
          customer_reference_number
      end
      @designator_code = designator_code unless designator_code == SKIP
      @document_type = document_type unless document_type == SKIP
      @flight_date = flight_date unless flight_date == SKIP
      @legs = legs unless legs == SKIP
      @passenger_name = passenger_name
      @passengers = passengers unless passengers == SKIP
      @ticket = ticket unless ticket == SKIP
      @travel_agency = travel_agency unless travel_agency == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      passenger_name = hash.key?('passengerName') ? hash['passengerName'] : nil
      agency = Agency.from_hash(hash['agency']) if hash['agency']
      boarding_fee = hash.key?('boardingFee') ? hash['boardingFee'] : SKIP
      code = hash.key?('code') ? hash['code'] : SKIP
      computerized_reservation_system =
        hash.key?('computerizedReservationSystem') ? hash['computerizedReservationSystem'] : SKIP
      customer_reference_number =
        hash.key?('customerReferenceNumber') ? hash['customerReferenceNumber'] : SKIP
      designator_code =
        hash.key?('designatorCode') ? hash['designatorCode'] : SKIP
      document_type = hash.key?('documentType') ? hash['documentType'] : SKIP
      flight_date = if hash.key?('flightDate')
                      (DateTimeHelper.from_rfc3339(hash['flightDate']) if hash['flightDate'])
                    else
                      SKIP
                    end
      # Parameter is an array, so we need to iterate through it
      legs = nil
      unless hash['legs'].nil?
        legs = []
        hash['legs'].each do |structure|
          legs << (Leg.from_hash(structure) if structure)
        end
      end

      legs = SKIP unless hash.key?('legs')
      # Parameter is an array, so we need to iterate through it
      passengers = nil
      unless hash['passengers'].nil?
        passengers = []
        hash['passengers'].each do |structure|
          passengers << (Passenger.from_hash(structure) if structure)
        end
      end

      passengers = SKIP unless hash.key?('passengers')
      ticket = Ticket.from_hash(hash['ticket']) if hash['ticket']
      travel_agency = TravelAgency.from_hash(hash['travelAgency']) if hash['travelAgency']

      # Create object from extracted values.
      Airline1.new(passenger_name: passenger_name,
                   agency: agency,
                   boarding_fee: boarding_fee,
                   code: code,
                   computerized_reservation_system: computerized_reservation_system,
                   customer_reference_number: customer_reference_number,
                   designator_code: designator_code,
                   document_type: document_type,
                   flight_date: flight_date,
                   legs: legs,
                   passengers: passengers,
                   ticket: ticket,
                   travel_agency: travel_agency)
    end

    def to_custom_flight_date
      DateTimeHelper.to_rfc3339(flight_date)
    end

    # Validates an instance of the object from a given value.
    # @param [Airline1 | Hash] The value against the validation is performed.
    def self.validate(value)
      if value.instance_of? self
        return APIHelper.valid_type?(value.passenger_name,
                                     ->(val) { val.instance_of? String })
      end

      return false unless value.instance_of? Hash

      APIHelper.valid_type?(value['passengerName'],
                            ->(val) { val.instance_of? String })
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} agency: #{@agency}, boarding_fee: #{@boarding_fee}, code: #{@code},"\
      " computerized_reservation_system: #{@computerized_reservation_system},"\
      " customer_reference_number: #{@customer_reference_number}, designator_code:"\
      " #{@designator_code}, document_type: #{@document_type}, flight_date: #{@flight_date}, legs:"\
      " #{@legs}, passenger_name: #{@passenger_name}, passengers: #{@passengers}, ticket:"\
      " #{@ticket}, travel_agency: #{@travel_agency}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} agency: #{@agency.inspect}, boarding_fee: #{@boarding_fee.inspect}, code:"\
      " #{@code.inspect}, computerized_reservation_system:"\
      " #{@computerized_reservation_system.inspect}, customer_reference_number:"\
      " #{@customer_reference_number.inspect}, designator_code: #{@designator_code.inspect},"\
      " document_type: #{@document_type.inspect}, flight_date: #{@flight_date.inspect}, legs:"\
      " #{@legs.inspect}, passenger_name: #{@passenger_name.inspect}, passengers:"\
      " #{@passengers.inspect}, ticket: #{@ticket.inspect}, travel_agency:"\
      " #{@travel_agency.inspect}>"
    end
  end
end
