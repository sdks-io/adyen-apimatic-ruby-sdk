# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # [Level 2 and Level 3 enhanced scheme
  # data](https://docs.adyen.com/payment-methods/cards/enhanced-scheme-data/l2-l
  # 3/) that may be required for processing the transaction and/or for
  # interchange savings.
  class LevelTwoThree2 < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # The reference number to identify the customer and their order.
    # * Format: ASCII
    # * Max length: 25 characters
    # * Must not start with a space or be all spaces.
    # * Must not be all zeros.
    # @return [String]
    attr_accessor :customer_reference_number

    # The destination address information.
    # @return [Destination1]
    attr_accessor :destination

    # The duty tax amount, in [minor
    # units](https://docs.adyen.com/development-resources/currency-codes).
    # * For example, 2000 means USD 20.00.
    # * Encoding: Numeric
    # * Max value: 10000000000
    # @return [Integer]
    attr_accessor :duty_amount

    # The shipping amount, in [minor
    # units](https://docs.adyen.com/development-resources/currency-codes).
    # * For example, 2000 means USD 20.00.
    # * Encoding: Numeric
    # * Max value: 10000000000
    # @return [Integer]
    attr_accessor :freight_amount

    # The list of item detail lines.
    # @return [Array[ItemDetailLine]]
    attr_accessor :item_detail_lines

    # The date of the order.
    # * Min Length: 10 characters
    # * Max Length: 10 characters
    # * Format [ISO 8601](https://www.w3.org/TR/NOTE-datetime): yyyy-MM-dd
    # @return [Date]
    attr_accessor :order_date

    # The postal code of the address where the item is shipped from.
    # * Encoding: ASCII
    # * Max length: 10 characters
    # * For the US, it must be in five or nine digits format. For example, 10001
    # or 10001-0000.
    # * For Canada, it must be in 6 digits format. For example, M4B 1G5.
    # @return [String]
    attr_accessor :ship_from_postal_code

    # The amount of state or provincial [tax included in the total transaction
    # amount](https://docs.adyen.com/payment-methods/cards/enhanced-scheme-data/
    # l2-l3#requirements-to-send-level-2-3-esd), in [minor
    # units](https://docs.adyen.com/development-resources/currency-codes).
    # * For example, 2000 means USD 20.00.
    # * Encoding: Numeric
    # * Max value: 10000000000
    # * For L2 data: must not be all zeroes. 
    # * For L3 data: can be zero.
    # @return [Integer]
    attr_accessor :total_tax_amount

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['customer_reference_number'] = 'customerReferenceNumber'
      @_hash['destination'] = 'destination'
      @_hash['duty_amount'] = 'dutyAmount'
      @_hash['freight_amount'] = 'freightAmount'
      @_hash['item_detail_lines'] = 'itemDetailLines'
      @_hash['order_date'] = 'orderDate'
      @_hash['ship_from_postal_code'] = 'shipFromPostalCode'
      @_hash['total_tax_amount'] = 'totalTaxAmount'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        customer_reference_number
        destination
        duty_amount
        freight_amount
        item_detail_lines
        order_date
        ship_from_postal_code
        total_tax_amount
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(customer_reference_number: SKIP, destination: SKIP,
                   duty_amount: SKIP, freight_amount: SKIP,
                   item_detail_lines: SKIP, order_date: SKIP,
                   ship_from_postal_code: SKIP, total_tax_amount: SKIP)
      unless customer_reference_number == SKIP
        @customer_reference_number =
          customer_reference_number
      end
      @destination = destination unless destination == SKIP
      @duty_amount = duty_amount unless duty_amount == SKIP
      @freight_amount = freight_amount unless freight_amount == SKIP
      @item_detail_lines = item_detail_lines unless item_detail_lines == SKIP
      @order_date = order_date unless order_date == SKIP
      @ship_from_postal_code = ship_from_postal_code unless ship_from_postal_code == SKIP
      @total_tax_amount = total_tax_amount unless total_tax_amount == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      customer_reference_number =
        hash.key?('customerReferenceNumber') ? hash['customerReferenceNumber'] : SKIP
      destination = Destination1.from_hash(hash['destination']) if hash['destination']
      duty_amount = hash.key?('dutyAmount') ? hash['dutyAmount'] : SKIP
      freight_amount = hash.key?('freightAmount') ? hash['freightAmount'] : SKIP
      # Parameter is an array, so we need to iterate through it
      item_detail_lines = nil
      unless hash['itemDetailLines'].nil?
        item_detail_lines = []
        hash['itemDetailLines'].each do |structure|
          item_detail_lines << (ItemDetailLine.from_hash(structure) if structure)
        end
      end

      item_detail_lines = SKIP unless hash.key?('itemDetailLines')
      order_date = hash.key?('orderDate') ? hash['orderDate'] : SKIP
      ship_from_postal_code =
        hash.key?('shipFromPostalCode') ? hash['shipFromPostalCode'] : SKIP
      total_tax_amount =
        hash.key?('totalTaxAmount') ? hash['totalTaxAmount'] : SKIP

      # Create object from extracted values.
      LevelTwoThree2.new(customer_reference_number: customer_reference_number,
                         destination: destination,
                         duty_amount: duty_amount,
                         freight_amount: freight_amount,
                         item_detail_lines: item_detail_lines,
                         order_date: order_date,
                         ship_from_postal_code: ship_from_postal_code,
                         total_tax_amount: total_tax_amount)
    end

    # Validates an instance of the object from a given value.
    # @param [LevelTwoThree2 | Hash] The value against the validation is performed.
    def self.validate(value)
      return true if value.instance_of? self

      return false unless value.instance_of? Hash

      true
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} customer_reference_number: #{@customer_reference_number}, destination:"\
      " #{@destination}, duty_amount: #{@duty_amount}, freight_amount: #{@freight_amount},"\
      " item_detail_lines: #{@item_detail_lines}, order_date: #{@order_date},"\
      " ship_from_postal_code: #{@ship_from_postal_code}, total_tax_amount: #{@total_tax_amount}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} customer_reference_number: #{@customer_reference_number.inspect},"\
      " destination: #{@destination.inspect}, duty_amount: #{@duty_amount.inspect},"\
      " freight_amount: #{@freight_amount.inspect}, item_detail_lines:"\
      " #{@item_detail_lines.inspect}, order_date: #{@order_date.inspect}, ship_from_postal_code:"\
      " #{@ship_from_postal_code.inspect}, total_tax_amount: #{@total_tax_amount.inspect}>"
    end
  end
end
