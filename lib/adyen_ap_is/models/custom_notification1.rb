# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

require 'date'
module AdyenApIs
  # Custom test notification object. Required when the
  # [`types`](https://docs.adyen.com/api-explorer/#/ManagementService/v1/post/co
  # mpanies/{companyId}/webhooks/{webhookId}/test__reqParam_types) list contains
  # **CUSTOM**.
  class CustomNotification1 < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # The amount of the payment that the notification is about. Set the value in
    # [minor
    # units](https://docs.adyen.com/development-resources/currency-codes).
    # @return [Amount]
    attr_accessor :amount

    # The event that caused the notification to be sent.Currently supported
    # values:
    # * **AUTHORISATION**
    # * **CANCELLATION**
    # * **REFUND**
    # * **CAPTURE**
    # * **REPORT_AVAILABLE**
    # * **CHARGEBACK**
    # * **REQUEST_FOR_INFORMATION**
    # * **NOTIFICATION_OF_CHARGEBACK**
    # * **NOTIFICATIONTEST**
    # * **ORDER_OPENED**
    # * **ORDER_CLOSED**
    # * **CHARGEBACK_REVERSED**
    # * **REFUNDED_REVERSED**
    # * **REFUND_WITH_DATA**
    # @return [String]
    attr_accessor :event_code

    # The time of the event. Format: [ISO
    # 8601](http://www.w3.org/TR/NOTE-datetime), YYYY-MM-DDThh:mm:ssTZD.
    # @return [DateTime]
    attr_accessor :event_date

    # Your reference for the custom test notification.
    # @return [String]
    attr_accessor :merchant_reference

    # The payment method for the payment that the notification is about.
    # Possible values:
    # * **amex**
    # * **visa**
    # * **mc**
    # * **maestro**
    # * **bcmc**
    # * **paypal**
    #  * **sms**
    #  * **bankTransfer_NL**
    # * **bankTransfer_DE**
    # * **bankTransfer_BE**
    # * **ideal**
    # * **elv**
    # * **sepadirectdebit**
    # @return [String]
    attr_accessor :payment_method

    # A description of what caused the notification.
    # @return [String]
    attr_accessor :reason

    # The outcome of the event which the notification is about. Set to either
    # **true** or **false**.
    # @return [TrueClass | FalseClass]
    attr_accessor :success

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['amount'] = 'amount'
      @_hash['event_code'] = 'eventCode'
      @_hash['event_date'] = 'eventDate'
      @_hash['merchant_reference'] = 'merchantReference'
      @_hash['payment_method'] = 'paymentMethod'
      @_hash['reason'] = 'reason'
      @_hash['success'] = 'success'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        amount
        event_code
        event_date
        merchant_reference
        payment_method
        reason
        success
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(amount: SKIP, event_code: SKIP, event_date: SKIP,
                   merchant_reference: SKIP, payment_method: SKIP, reason: SKIP,
                   success: SKIP)
      @amount = amount unless amount == SKIP
      @event_code = event_code unless event_code == SKIP
      @event_date = event_date unless event_date == SKIP
      @merchant_reference = merchant_reference unless merchant_reference == SKIP
      @payment_method = payment_method unless payment_method == SKIP
      @reason = reason unless reason == SKIP
      @success = success unless success == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      amount = Amount.from_hash(hash['amount']) if hash['amount']
      event_code = hash.key?('eventCode') ? hash['eventCode'] : SKIP
      event_date = if hash.key?('eventDate')
                     (DateTimeHelper.from_rfc3339(hash['eventDate']) if hash['eventDate'])
                   else
                     SKIP
                   end
      merchant_reference =
        hash.key?('merchantReference') ? hash['merchantReference'] : SKIP
      payment_method = hash.key?('paymentMethod') ? hash['paymentMethod'] : SKIP
      reason = hash.key?('reason') ? hash['reason'] : SKIP
      success = hash.key?('success') ? hash['success'] : SKIP

      # Create object from extracted values.
      CustomNotification1.new(amount: amount,
                              event_code: event_code,
                              event_date: event_date,
                              merchant_reference: merchant_reference,
                              payment_method: payment_method,
                              reason: reason,
                              success: success)
    end

    def to_custom_event_date
      DateTimeHelper.to_rfc3339(event_date)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} amount: #{@amount}, event_code: #{@event_code}, event_date: #{@event_date},"\
      " merchant_reference: #{@merchant_reference}, payment_method: #{@payment_method}, reason:"\
      " #{@reason}, success: #{@success}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} amount: #{@amount.inspect}, event_code: #{@event_code.inspect}, event_date:"\
      " #{@event_date.inspect}, merchant_reference: #{@merchant_reference.inspect},"\
      " payment_method: #{@payment_method.inspect}, reason: #{@reason.inspect}, success:"\
      " #{@success.inspect}>"
    end
  end
end
