# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # Action to be taken for completing the payment.
  class PaymentResponse9 < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # Action to be taken for completing the payment.
    # @return [Object]
    attr_accessor :action

    # Contains additional information about the payment. Some data fields are
    # included only if you select them first: Go to **Customer Area** >
    # **Developers** > **Additional data**.
    # @return [Hash[String, String]]
    attr_accessor :additional_data

    # Authorised amount in the transaction.
    # @return [Amount25]
    attr_accessor :amount

    # Donation Token containing payment details for Adyen Giving.
    # @return [String]
    attr_accessor :donation_token

    # The fraud result properties of the payment.
    # @return [FraudResult1]
    attr_accessor :fraud_result

    # The reference to uniquely identify a payment. This reference is used in
    # all communication with you about the payment status. We recommend using a
    # unique value per payment; however, it is not a requirement.
    # If you need to provide multiple references for a transaction, separate
    # them with hyphens ("-").
    # Maximum length: 80 characters.
    # @return [String]
    attr_accessor :merchant_reference

    # Contains updated information regarding the order in case order information
    # was provided in the request.
    # @return [CheckoutOrderResponse1]
    attr_accessor :order

    # Details about the payment method used in the transaction. 
    # Only returned if `resultCode` is **Authorised**.
    # @return [PaymentResponse1]
    attr_accessor :payment_method

    # The object that contains the validation outcomes.
    # Only returned if `resultCode` is **Authorised** and if you have requested
    # a payment validation in the request.
    # @return [PaymentResponse2]
    attr_accessor :payment_validations

    # Adyen's 16-character string reference associated with the
    # transaction/request. This value is globally unique; quote it when
    # communicating with us about this request.
    # > For payment methods that require a redirect or additional action, you
    # will get this value in the `/payments/details` response.
    # @return [String]
    attr_accessor :psp_reference

    # If the payment's authorisation is refused or an error occurs during
    # authorisation, this field holds Adyen's mapped reason for the refusal or a
    # description of the error. When a transaction fails, the authorisation
    # response includes `resultCode` and `refusalReason` values.
    # For more information, see [Refusal
    # reasons](https://docs.adyen.com/development-resources/refusal-reasons).
    # @return [String]
    attr_accessor :refusal_reason

    # Code that specifies the refusal reason. For more information, see
    # [Authorisation refusal
    # reasons](https://docs.adyen.com/development-resources/refusal-reasons).
    # @return [String]
    attr_accessor :refusal_reason_code

    # The result of the payment. For more information, see [Result
    # codes](https://docs.adyen.com/online-payments/payment-result-codes).
    # Possible values:
    # * **AuthenticationFinished** – The payment has been successfully
    # authenticated with 3D Secure 2. Returned for 3D Secure 2
    # authentication-only transactions.
    # * **AuthenticationNotRequired** – The transaction does not require 3D
    # Secure authentication. Returned for [standalone authentication-only
    # integrations](https://docs.adyen.com/online-payments/3d-secure/other-3ds-f
    # lows/authentication-only).
    # * **Authorised** – The payment was successfully authorised. This state
    # serves as an indicator to proceed with the delivery of goods and services.
    # This is a final state.
    # * **Cancelled** – Indicates the payment has been cancelled (either by the
    # shopper or the merchant) before processing was completed. This is a final
    # state.
    # * **ChallengeShopper** – The issuer requires further shopper interaction
    # before the payment can be authenticated. Returned for 3D Secure 2
    # transactions.
    # * **Error** – There was an error when the payment was being processed. The
    # reason is given in the `refusalReason` field. This is a final state.
    # * **IdentifyShopper** – The issuer requires the shopper's device
    # fingerprint before the payment can be authenticated. Returned for 3D
    # Secure 2 transactions.
    # * **PartiallyAuthorised** – The payment has been authorised for a partial
    # amount.
    # This happens for card payments when the merchant supports Partial
    # Authorisations and the cardholder has insufficient funds.
    # * **Pending** – Indicates that it is not possible to obtain the final
    # status of the payment. This can happen if the systems providing final
    # status information for the payment are unavailable, or if the shopper
    # needs to take further action to complete the payment.
    # * **PresentToShopper** – Indicates that the response contains additional
    # information that you need to present to a shopper, so that they can use it
    # to complete a payment.
    # * **Received** – Indicates the payment has successfully been received by
    # Adyen, and will be processed. This is the initial state for all payments.
    # * **RedirectShopper** – Indicates the shopper should be redirected to an
    # external web page or app to complete the authorisation.
    # * **Refused** – Indicates the payment was refused. The reason is given in
    # the `refusalReason` field. This is a final state.
    # @return [ResultCode1]
    attr_accessor :result_code

    # Response of the 3D Secure 2 authentication.
    # @return [ThreeDs2ResponseData1]
    attr_accessor :three_ds2_response_data

    # Result of the 3D Secure 2 authentication.
    # @return [ThreeDs2Result1]
    attr_accessor :three_ds2_result

    # When non-empty, contains a value that you must submit to the
    # `/payments/details` endpoint as `paymentData`.
    # @return [String]
    attr_accessor :three_ds_payment_data

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['action'] = 'action'
      @_hash['additional_data'] = 'additionalData'
      @_hash['amount'] = 'amount'
      @_hash['donation_token'] = 'donationToken'
      @_hash['fraud_result'] = 'fraudResult'
      @_hash['merchant_reference'] = 'merchantReference'
      @_hash['order'] = 'order'
      @_hash['payment_method'] = 'paymentMethod'
      @_hash['payment_validations'] = 'paymentValidations'
      @_hash['psp_reference'] = 'pspReference'
      @_hash['refusal_reason'] = 'refusalReason'
      @_hash['refusal_reason_code'] = 'refusalReasonCode'
      @_hash['result_code'] = 'resultCode'
      @_hash['three_ds2_response_data'] = 'threeDS2ResponseData'
      @_hash['three_ds2_result'] = 'threeDS2Result'
      @_hash['three_ds_payment_data'] = 'threeDSPaymentData'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        action
        additional_data
        amount
        donation_token
        fraud_result
        merchant_reference
        order
        payment_method
        payment_validations
        psp_reference
        refusal_reason
        refusal_reason_code
        result_code
        three_ds2_response_data
        three_ds2_result
        three_ds_payment_data
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(action: SKIP, additional_data: SKIP, amount: SKIP,
                   donation_token: SKIP, fraud_result: SKIP,
                   merchant_reference: SKIP, order: SKIP, payment_method: SKIP,
                   payment_validations: SKIP, psp_reference: SKIP,
                   refusal_reason: SKIP, refusal_reason_code: SKIP,
                   result_code: SKIP, three_ds2_response_data: SKIP,
                   three_ds2_result: SKIP, three_ds_payment_data: SKIP)
      @action = action unless action == SKIP
      @additional_data = additional_data unless additional_data == SKIP
      @amount = amount unless amount == SKIP
      @donation_token = donation_token unless donation_token == SKIP
      @fraud_result = fraud_result unless fraud_result == SKIP
      @merchant_reference = merchant_reference unless merchant_reference == SKIP
      @order = order unless order == SKIP
      @payment_method = payment_method unless payment_method == SKIP
      @payment_validations = payment_validations unless payment_validations == SKIP
      @psp_reference = psp_reference unless psp_reference == SKIP
      @refusal_reason = refusal_reason unless refusal_reason == SKIP
      @refusal_reason_code = refusal_reason_code unless refusal_reason_code == SKIP
      @result_code = result_code unless result_code == SKIP
      @three_ds2_response_data = three_ds2_response_data unless three_ds2_response_data == SKIP
      @three_ds2_result = three_ds2_result unless three_ds2_result == SKIP
      @three_ds_payment_data = three_ds_payment_data unless three_ds_payment_data == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      action = hash.key?('action') ? APIHelper.deserialize_union_type(
        UnionTypeLookUp.get(:PaymentResponse9Action), hash['action']
      ) : SKIP
      additional_data =
        hash.key?('additionalData') ? hash['additionalData'] : SKIP
      amount = Amount25.from_hash(hash['amount']) if hash['amount']
      donation_token = hash.key?('donationToken') ? hash['donationToken'] : SKIP
      fraud_result = FraudResult1.from_hash(hash['fraudResult']) if hash['fraudResult']
      merchant_reference =
        hash.key?('merchantReference') ? hash['merchantReference'] : SKIP
      order = CheckoutOrderResponse1.from_hash(hash['order']) if hash['order']
      payment_method = PaymentResponse1.from_hash(hash['paymentMethod']) if hash['paymentMethod']
      payment_validations = PaymentResponse2.from_hash(hash['paymentValidations']) if
        hash['paymentValidations']
      psp_reference = hash.key?('pspReference') ? hash['pspReference'] : SKIP
      refusal_reason = hash.key?('refusalReason') ? hash['refusalReason'] : SKIP
      refusal_reason_code =
        hash.key?('refusalReasonCode') ? hash['refusalReasonCode'] : SKIP
      result_code = hash.key?('resultCode') ? hash['resultCode'] : SKIP
      three_ds2_response_data = ThreeDs2ResponseData1.from_hash(hash['threeDS2ResponseData']) if
        hash['threeDS2ResponseData']
      three_ds2_result = ThreeDs2Result1.from_hash(hash['threeDS2Result']) if
        hash['threeDS2Result']
      three_ds_payment_data =
        hash.key?('threeDSPaymentData') ? hash['threeDSPaymentData'] : SKIP

      # Create object from extracted values.
      PaymentResponse9.new(action: action,
                           additional_data: additional_data,
                           amount: amount,
                           donation_token: donation_token,
                           fraud_result: fraud_result,
                           merchant_reference: merchant_reference,
                           order: order,
                           payment_method: payment_method,
                           payment_validations: payment_validations,
                           psp_reference: psp_reference,
                           refusal_reason: refusal_reason,
                           refusal_reason_code: refusal_reason_code,
                           result_code: result_code,
                           three_ds2_response_data: three_ds2_response_data,
                           three_ds2_result: three_ds2_result,
                           three_ds_payment_data: three_ds_payment_data)
    end

    # Validates an instance of the object from a given value.
    # @param [PaymentResponse9 | Hash] The value against the validation is performed.
    def self.validate(value)
      return true if value.instance_of? self

      return false unless value.instance_of? Hash

      true
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} action: #{@action}, additional_data: #{@additional_data}, amount:"\
      " #{@amount}, donation_token: #{@donation_token}, fraud_result: #{@fraud_result},"\
      " merchant_reference: #{@merchant_reference}, order: #{@order}, payment_method:"\
      " #{@payment_method}, payment_validations: #{@payment_validations}, psp_reference:"\
      " #{@psp_reference}, refusal_reason: #{@refusal_reason}, refusal_reason_code:"\
      " #{@refusal_reason_code}, result_code: #{@result_code}, three_ds2_response_data:"\
      " #{@three_ds2_response_data}, three_ds2_result: #{@three_ds2_result},"\
      " three_ds_payment_data: #{@three_ds_payment_data}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} action: #{@action.inspect}, additional_data: #{@additional_data.inspect},"\
      " amount: #{@amount.inspect}, donation_token: #{@donation_token.inspect}, fraud_result:"\
      " #{@fraud_result.inspect}, merchant_reference: #{@merchant_reference.inspect}, order:"\
      " #{@order.inspect}, payment_method: #{@payment_method.inspect}, payment_validations:"\
      " #{@payment_validations.inspect}, psp_reference: #{@psp_reference.inspect}, refusal_reason:"\
      " #{@refusal_reason.inspect}, refusal_reason_code: #{@refusal_reason_code.inspect},"\
      " result_code: #{@result_code.inspect}, three_ds2_response_data:"\
      " #{@three_ds2_response_data.inspect}, three_ds2_result: #{@three_ds2_result.inspect},"\
      " three_ds_payment_data: #{@three_ds_payment_data.inspect}>"
    end
  end
end
