# adyen_ap_is
#
# This file was automatically generated by APIMATIC v3.0 (
# https://www.apimatic.io ).

module AdyenApIs
  # SessionResultResponse Model.
  class SessionResultResponse < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # Contains additional information about the payment. Some fields are
    # included only if you enable them. To enable these fields in your Customer
    # Area, go to **Developers** > **Additional data**.
    # @return [Hash[String, String]]
    attr_accessor :additional_data

    # A unique identifier of the session.
    # @return [String]
    attr_accessor :id

    # A list of all authorised payments done for this session.
    # @return [Array[Payment]]
    attr_accessor :payments

    # The unique reference that you provided in the original `/sessions`
    # request. This identifies the payment and is used in all communication with
    # you about the payment status.
    # @return [String]
    attr_accessor :reference

    # The status of the session. The status included in the response doesn't get
    # updated. Don't make the request again to check for payment status updates.
    # Possible values:
    # * **completed**: the shopper completed the payment, and the payment was
    # authorized.
    # * **paymentPending**: the shopper is in the process of making the payment.
    # This applies to payment methods with an asynchronous flow, like voucher
    # payments where the shopper completes the payment in a physical shop.
    # * **refused**: the session has been refused, because of too many refused
    # payment attempts. The shopper can no longer complete the payment with this
    # session.
    # * **canceled**: the shopper canceled the payment.
    # * **expired**: the session expired. The shopper can no longer complete the
    # payment with this session. By default, the session expires one hour after
    # it is created.
    # @return [Status4]
    attr_accessor :status

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['additional_data'] = 'additionalData'
      @_hash['id'] = 'id'
      @_hash['payments'] = 'payments'
      @_hash['reference'] = 'reference'
      @_hash['status'] = 'status'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        additional_data
        id
        payments
        reference
        status
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(additional_data: SKIP, id: SKIP, payments: SKIP,
                   reference: SKIP, status: SKIP)
      @additional_data = additional_data unless additional_data == SKIP
      @id = id unless id == SKIP
      @payments = payments unless payments == SKIP
      @reference = reference unless reference == SKIP
      @status = status unless status == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      additional_data =
        hash.key?('additionalData') ? hash['additionalData'] : SKIP
      id = hash.key?('id') ? hash['id'] : SKIP
      # Parameter is an array, so we need to iterate through it
      payments = nil
      unless hash['payments'].nil?
        payments = []
        hash['payments'].each do |structure|
          payments << (Payment.from_hash(structure) if structure)
        end
      end

      payments = SKIP unless hash.key?('payments')
      reference = hash.key?('reference') ? hash['reference'] : SKIP
      status = hash.key?('status') ? hash['status'] : SKIP

      # Create object from extracted values.
      SessionResultResponse.new(additional_data: additional_data,
                                id: id,
                                payments: payments,
                                reference: reference,
                                status: status)
    end

    # Provides a human-readable string representation of the object.
    def to_s
      class_name = self.class.name.split('::').last
      "<#{class_name} additional_data: #{@additional_data}, id: #{@id}, payments: #{@payments},"\
      " reference: #{@reference}, status: #{@status}>"
    end

    # Provides a debugging-friendly string with detailed object information.
    def inspect
      class_name = self.class.name.split('::').last
      "<#{class_name} additional_data: #{@additional_data.inspect}, id: #{@id.inspect}, payments:"\
      " #{@payments.inspect}, reference: #{@reference.inspect}, status: #{@status.inspect}>"
    end
  end
end
